---
title: "[Git] 프로처럼 사용하는 팁들"
date: 2022-05-02
description: 드림코딩 Git 마스터 과정 강의 매일 한 챕터씩!
---

## 프로처럼 사용하는 팁들 🚀

### 디버깅을 빠르게 하는 방법
프로젝트를 진행하다 보면 누가 작성한 건지 추적해야 되는 경우가 많음.
그리고 언제 무엇 때문에 이 코드가 도입됐는지 디버깅을 해야 되는 경우도 있음
그럴 때 유용하게 쓸 수 있는 git blame이라는 명령어로 commit 된 해시코드와 누가 도입했는지
날짜와 시간까지 확인할 수 있음. 
```bash
// git blame 원하는 파일 이름
$ git blame fixtures/dom/src/tags.js
```

terminal 말고 ide 파일 위에서 바로 확인할 수 있는 방법이 있음. intelliJ와 같은 조금 무거운 IDE
에서는 기본적으로 기능이 포함되어 있는 경우가 많고, vscode에서는 굉장히 유용한 extension이 있음.
=> GitLens!

### 문제의 원인을 빠르게 찾는 법
git 디버깅의 하이라이트인 git bisect! 버그를 잡는 시간을 단축해 줄 유용한 명령어.
여태까지 제품이 아무런 문제 없이 정상적으로 잘 작동하는 기능이었는데 갑자기 이상한 문제가
발생한 경우라면 개발 tool의 디버깅 tool을 이용하는 등 문제 상황에 맞게 적절한 디버깅 tool을 
이용하는 것이 좋음. 하지만 성능을 분석했는데도 문제가 잘 파악되지 않는다면 이 명령어를 쓸 수 있음.

git bisect는 commit history가 쭉 있을 때, 만약 3주 전까진 괜ㅊ낳았는데 이 3주부터 최근까지
릴리스가 2번 발생했는데 이쯤 문제가 도입된 거 같을 때 빠르게 문제의 commit을 찾을 수 있도록
도와주는 것. bisect는 특정한 부분은 good 여기까진 괜찮은데 최근 commit에 문제가 생겼어 bad야!
라고 설정하면 이진 탐색 알고리즘을 이용해서 많은 commit이 중간에 있더라도 빠르게 문제의 commit을 찾아낼 수 있음

good 문제가 없는 지점과 bad 나쁜 지점을 설정해 놓으면 bisecting을 시작함.
```bash
// 우선 checkout으로 이동해 프로그램을 실행해서 문제가 없는지 확인
$ git checkout hashcode

$ git bisect start

// 심볼이 생기면 마크
$ git bisect good

// 다시 최신 master 포인터로 돌아가기
$ git checkout master

// 여기에서도 다시 한번 최신 버전에 문제가 발생하는지 한 번 더 확인 후 마크
$ git bisect bad
Bisection: 12 revisions left to test after this (roughly 4 steps)
```
good과 bad 사이에 총 12가지의 commit이 존재하는데 총 4번만 확인하면 됨.
지금은 HEAD가 그 중간 지점 어딘가 다른 commit으로 체크아웃된 상태임 이 상태에서
다시 프로그램을 돌려 봐서 이슈가 발생하는지 발생하지 않는지 확인을 한 다음에
발생하지 않아서 오케이를 하면 그다음 commit으로 이동하게 됨.
```bash
// 여기까지는 문제가 발생하지 않아 여기는 good이야! 라고 마크
$ git bisect good

// 이슈가 발생한다면 bad를 작성
$ git bisect bad
```

git history를 보면 이제 HEAD가 조금 더 최근 것을 가리키고 있음. 프로그램을 돌려서
다시 문제가 발생하는지 발생하지 않는지 확인 후 다음 commit으로 이동하면서
이슈가 발생한다면 good, 않는다면 bad를 하면 중간 지점 어딘가에 나쁜 commit이 도입되었는지
결과물을 찾을 수 있음.

이처럼 bisect은 우리 개발 tool로 디버깅하기가 힘은 경우 밖에선 착한 commit 처럼 보이지만
나쁜 버그를 포함하고 있는 commit 그것을 빠르게 찾아낼 수 있도록 도와주는 명령어로,
수많은 커밋들 중에서 잘 동작했던 commit 포인트 하나와 이상하게 동작하는 commit 두 가지 지점만
잘 설정해 놓으면 이진 탐색 알고리즘을 이용해서 빠르게 나쁜 commit을 잡아냄.!

그리고 bisect를 다 이용했다면 reset을 이용해 원래 branch로 돌아갈 수 있음
```bash
$ git bisect reset
```

### 터미널 UI 인터페이스 툴 ✨
git을 terminal에서 명령어로 이용하는 방법, 소스트리와 같은 UI 어플리케이션을 사용하는 방법,
Visual studio code와 같은 개발에디터에서도 git의 기능을 이용할 수 있는데 또는 이 텍스트 위주의
terminal에서 사용할 수 있는 인터페이스를 제공하는 tig라는 프로그램도 있음.

brew가 있다면 `brew install tig`를 이용해 간단하게 설치할 수 있고 windows에서는 
[tig](https://jonas.github.io/tig/) 사이트 설치방법을 보고 다양한 방식으로 설치 가능함

tig를 이용하면 간단하게 history를 확인해 볼 수 있고 commit에서 enter를 치면
title, description, 수정된 파일, 파일 안의 내용 등 commit 안에 있는 내용도 확인 가능.
g와 같은 명령을 이요하면 grab을 이용할 수 있고, /를 이용해 간편하게 문자열을 검색할 수도 있고
굉장히 다양한 명령어를 이용해서 간편하게 git을 활용해 볼 수 있음

> 터미널 명령어보다 VIM을 사용하는 게 익숙하고 좋아하면 굉장히 간편!

### 엘리는 터미널 + UI 어떻게 이용하나?
UI 애플리케이션 같은 경우 각각 UI마다 제공하는 것들이 다 다르기 때문에 하나하나씩
어떻게 사용하는지 익혀야 할 뿐 아니라 git에서 제공하는 모든 명령어를 다 가지고 있지 
않은 경우가 많음. 그리고 정확하게 어떤 옵션이 들어있는지 확인하기도 힘듦.

그리고 프로젝트 규모가 커지다 보면 UI를 사용하면 굉장히 느려지는 경우가 많음. terminal에서는
텍스트 위주로 하다 보니 빠르게 타이핑해서 원하는 기능을 수행하기 좋음. 보통 빠르게 확인해야 되는
경우 tig를 활용

내가 local에서 작업하고 있는 내용들이 굉장히 많을 때 복잡한 경우가 있음.
수정한 내용을 하나씩 확인하면서 추가할 때 해당하는 부분만 선택해서 stage lines를 이용하거나
부분적으로 staging에 추가할 때 부분적으로 commit 할 때 복잡한 merge tool 이용할 때 UI를 활용

## 마무리
git 자체에서 명령어와 옵션들이 굉장히 많지만 근본적으로 제공하는 것 우리가 git을 쓰는 주 이유는
프로젝트 버전을 쉽게 관리하기 위해서 그리고 github와 같은 server에 올려둠으로써 다른 사람들과
협업이 잘될 수 있도록 이용하는 것임. 이런 주 목적을 잊지 않고 내가 원할 때마다 해당하는 명령어와
어떤 옵션들이 있는지 공부하기.

전반적으로 git을 이용하는 workflow와 github를 어떻게 이용할 수 있는지 github를 왜 써야 되는지만
이해하면 됨! git repository에 commit을 해나간다는 것은 우리가 기억하고 싶은 돌아가고 싶은 버전들을
관리해 나가기 위한 목적이기 때문에 너무 커서도 안 되고, 너무 많은 파일을 수정해도 안 되고,
또 그렇다고 조그마하게 commit 해 나가도 좋지 않음.

적당한 크기로 내가 관리하기 쉽게 history를 바라봤을 때 이런 순서대로 일을 진행했고
이런 이런 기능들이 추가 되었구나 확인하기 쉽게 만들어 나가는 게 중요하고
commit은 하나당 한 가지만 하기! 한 가지만 추가하고 한 가지만 리팩토링하고 하나의 버그만 해결하기
잊지 않는 것 굉장히 중요

원활한 협업을 위해선 한 가지의 branch에서 작업을 하기보다 기능별로 해결하는 버그 별로 branch를 
만들어서 효율적으로 일하고 항상 오전에 일을 시작하기 전에 server에 있는 git repository를
최신 버전으로 업데이트하고 퇴근 전 일이 마무리됐다면 항상 push를 해서 나의 commit을 server에 올리기

git이 왜 필요한지 어떤 기능들이 있는지 이런 것들만 잘 이해한다면 terminal 또는 UI 어떤 것을 사용해도 상관없음