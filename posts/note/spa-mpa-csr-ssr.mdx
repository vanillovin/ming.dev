---
title: SPA/MPA, CSR/SSR
date: 2022-04-10
description: description
---

## SPA(Single Page Application)
- 한 개(Single)의 페이지(HTML 문서)로 구성된 Application
- 기본적으로 CSR(Client Side Rendering) 방식으로 렌더링한다.
- 초기 렌더링 후 필요한 데이터를 서버에서 받아와 부분적으로 업데이트 하기 때문에 상대적으로 서버 요청이 적고 
자연스러운 페이지 이동으로 사용자 친화적이다. (SPA ≠ CSR)


## MPA(Multiple Page Application)
- 여러 개의 Page로 구성된 Application으로 전통적인 웹 애플리케이션 개발 방식
- SSR(Server Side Application) 방식으로 렌더링한다.

---

## CSR(Client Side Rendering)
<img alt="csr" src="/posts/note/spa-mpa-csr-ssr/CSR.png"></img>
쉽게 말하면 클라이언트 측에서 모든 일을 다 하는 것! 렌더링이 클라이언트 쪽에서 일어난다. 
최초 요청 시에 HTML, CSS, JS 등 각종 리소스를 받아오고 이후에 서버에 데이터 요청을 한다. 
초기 요청 때 SSR 보다 많은 리소스를 요청하기 때문에 렌더링 속도는 SSR이 더 빠름

### CSR의 장점
- 자연스러운 사용자 경험(UX)
- 필요한 리소스만 부분적으로 로딩해 성능상 좋음
- TTV 사용자가 웹 사이트를 볼 수 있음과 동시에 TTI 클릭하거나 인터랙션이 가능함

### CSR의 단점
- JS 파일을 번들링해 한 번에 받기 때문에 초기 구동 속도가 느려 사용자가 첫 화면을 보기까지 시간이 오래 걸린다
- CSR 에서 사용되는 HTML body는 대부분 텅텅 비어져 있기 때문에 검색엔진이 빈 파일을 분석할 수 있어서
검색엔진 최적화(SEO)가 취약하다.


## SSR(Server Side Rendering)
<img alt="ssr" src="/posts/note/spa-mpa-csr-ssr/SSR.png"></img>
클라이언트에서 모든 것을 처리하는 방식과 다르게 웹 사이트에 접속하면 
서버에서 렌더링을 마치고 data가 결합된 완전한 HTML 파일을 받아 클라이언트에 전달하는 방식
그러면 클라이언트 측에선 잘 만들어진 HTML 문서를 받아와 바로 사용자에게 보여줄 수 있음

### SSR의 장점
- 빠른 초기 로딩!
- 모든 컨텐츠가 HTML에 담겨져 있기 때문에 검색엔진 최적화에 유리함

### SSR의 단점
- 페이지를 요청할 때마다 새로고침 되고 전체적인 웹사이트를 다시 서버에서 받아 오므로 
Static Sites에서 발생했던 깜박임으로 사용자 경험(User Experience)이 떨어짐
- 서버가 모든 리소스를 준비해 응답하므로 특히 사용자가 많은 제품일수록 서버에 과부하가 걸리기 쉬움
- 동적으로 제어할 수 있는 자바스크립트 파일을 아직 다운로드받지 못해서 사용자 클릭에도 반응이 없어 아무것도 처리할 수 없다.
그래서 사용자가 사이트를 볼 수 있는 시간 TTV 와 실제로 인터렉션 할 수 있는 시간 TTI 의 공백이 긴편이다.


## SSG(Static Site Generation)
정적 사이트 생성기의 줄임말로 화면을 서버에서 미리 만들어 페이지가 필요할 때마다 전송해주는 기법으로 빠른 렌더링을 제공한다.
콘텐츠가 많이 변하지 않는 정적 사이트 블로그를 만들 때 유용함.


## TTV & TTI
- TTV(Time To View): 사용자가 웹사이트를 볼 수 있을 때까지의 시간
- TTI(Time To Interact): 사용자가 웹사이트에서 실제로 상호작용을 할 수 있을 때까지의 시간
웹사이트의 성능을 분석할 때 TTV 와 TTI도 중요한 매트릭으로 사용할 수 있다. CSR 사용 시 
최종적으로 번들링 해서 사용자에게 보내주는 자바스크립트 파일을 효율적으로 분할해
처음에 필수적인 정보만 보낼 수 있을지 고민하고, SSR 같은 경우 사용자가 보고 인터렉션 하는 
시간의 단차를 줄이기 위해 노력할 수 있을지와 어떻게 조금 더 매끄러운 UI/UX를 제공할 수 있을지 고민


## 언제 어떤 방식을 쓰는 게 좋을까?
### CSR 사용을 고려
- 네트워크 상태가 빠를 때
- 더 나은 사용자 경험, 고객의 데이터 보호가 중요
- 사용자에게 보여줘야 하는 데이터의 양이 많을 때

### SSR 사용을 고려
- 네트워크 상태가 느릴 때
- 웹사이트 상호작용이 별로 없을 때
- 상위 노출이 필요하거나 페이지마다 데이터 변경이 많다면

### SSG 사용을 고려
- 정적인 정보를 보여주는 페이지
- 상호작용 데이터가 존재하지 않을 때

---

## 결론
우리 사이트는 정적인지 동적인지, 서버에서 동적으로 데이터를 받아오는지, 얼마나 많은 사용자가 있는지 등에 따라서
TTV와 TTI를 고려해서 조금 더 유연하게 섞어가면서 개발해 나가기

> 참고<br/>
[https://proglish.tistory.com/216](https://proglish.tistory.com/216)<br/>
[https://miracleground.tistory.com/165](https://miracleground.tistory.com/165)<br/>
[드림코딩 - 서버사이드 렌더링 (개발자라면 상식으로 알고 있어야 하는 개념 정리 ⭐️)](https://youtu.be/iZ9csAfU5Os)<br/>